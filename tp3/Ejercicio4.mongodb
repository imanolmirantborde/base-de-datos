use ('kaufladen');
// Desconstrucci贸n de un array
// 1. Obtener el nombre de los productos y la puntuaci贸n de las valoraciones
// 2. Obtener la cantidad de valoraciones por puntuaci贸n
// 3. Ordenar de mayor a menor puntuaci贸n
db.productos.aggregate([
  {
    $unwind: "$valoraciones"
  },
  {
    $group: {
      _id: "$valoraciones.puntuacion",
      cantidadValoraciones: { $sum: 1 }
    }
  },
  {
    $sort: { _id: -1 }  
  }
])